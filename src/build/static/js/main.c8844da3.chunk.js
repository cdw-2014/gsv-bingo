(this["webpackJsonpgsv-bingo"]=this["webpackJsonpgsv-bingo"]||[]).push([[0],{124:function(e,t,a){e.exports=a(157)},129:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),i=a.n(r),l=(a(129),a(10)),c=a(107),s=a(40),u=a(200),m=a(209),g=a(203),d=a(210),p=a(64),f=a(110),h=a(82),b=Object(u.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainFeaturedPostContent:Object(p.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function E(e){var t=b(),a=e.post;return o.a.createElement(f.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(".concat(a.image,")")}},o.a.createElement("img",{style:{display:"none"},src:a.image,alt:a.imageText}),o.a.createElement("div",{className:t.overlay}),o.a.createElement(g.a,{container:!0},o.a.createElement(g.a,{item:!0,md:6},o.a.createElement("div",{className:t.mainFeaturedPostContent},o.a.createElement(h.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},a.title),o.a.createElement(h.a,{variant:"h5",color:"inherit",paragraph:!0},a.description)))))}var y=a(205),v=a(204),w=a(206),k=a(207),x=a(225),j=a(159),S=a(231),O=a(230),C=a(208),B=a(161),T=Object(u.a)({card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160}});function I(e){var t=T(),a=e.post,n=o.a.useState(!1),r=Object(l.a)(n,2),i=r[0],c=r[1],s=o.a.useRef(null),u=function(e){s.current&&s.current.contains(e.target)||c(!1)};function m(e){"Tab"===e.key&&(e.preventDefault(),c(!1))}var d=o.a.useRef(i);return o.a.useEffect((function(){!0===d.current&&!1===i&&s.current.focus(),d.current=i}),[i]),o.a.createElement(g.a,{item:!0,xs:12,md:6},o.a.createElement(v.a,{component:"a",ref:s,"aria-controls":i?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){c((function(e){return!e}))}},o.a.createElement(y.a,{className:t.card},o.a.createElement("div",{className:t.cardDetails},o.a.createElement(w.a,null,o.a.createElement(h.a,{component:"h2",variant:"h5"},a.title),o.a.createElement(h.a,{variant:"subtitle1",paragraph:!0},a.description))),o.a.createElement(x.a,{xsDown:!0},o.a.createElement(k.a,{className:t.cardMedia,image:a.image,title:a.imageTitle})))),o.a.createElement(j.a,{open:i,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return o.a.createElement(B.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom",marginTop:"5px"}}),o.a.createElement(f.a,null,o.a.createElement(C.a,{onClickAway:u},o.a.createElement(O.a,{autoFocusItem:i,id:"menu-list-grow",onKeyDown:m},a.options.map((function(e){return o.a.createElement(S.a,{onClick:function(){return window.location.href=e.link}},e.title)}))))))})))}var F=Object(u.a)((function(e){return{mainGrid:{marginTop:e.spacing(3)}}})),N={title:"Welcome",description:"Choose an option below to get started",image:"https://source.unsplash.com/random/?map",imgText:"map image from unsplash.com"},A=[{title:"Suggestions",description:"Create and manage submitted game piece suggestions",image:"".concat("","/suggestion.jpg"),imageText:"Image Text",options:[{title:"Submit a New Suggestion",link:"/suggestions/submit"},{title:"View All Suggested Pieces",link:"/suggestions/view/all"}]},{title:"Game Board",description:"Create new or load existing bingo boards",image:"".concat("","/map.jpg"),imageText:"Image Text",options:[{title:"Create a New Board",link:"/boards/create"},{title:"Manage Past Boards",link:"/boards/view"}]}];function G(){F();return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null),o.a.createElement(d.a,{maxWidth:"lg"},o.a.createElement("main",null,o.a.createElement(E,{post:N}),o.a.createElement(g.a,{container:!0,spacing:4},A.map((function(e){return o.a.createElement(I,{key:e.title,post:e})}))))))}a(211);var P=a(212),R=a(213);Object(u.a)((function(e){return{root:{flexGrow:1},button:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var D=a(223),M=a(232),W=a(224),_=a(36),L=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));function V(e){return o.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}function U(e){var t=L(),a=o.a.useState("Unknown"),n=Object(l.a)(a,2),r=n[0],i=n[1],c=o.a.useState(!1),s=Object(l.a)(c,2),u=s[0],m=s[1],d=function(e,t){"clickaway"!==t&&m(!1)};return o.a.createElement(g.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,style:{marginTop:"15px"}},o.a.createElement(g.a,{item:!0,xs:8},o.a.createElement("h3",null,"Add a Bingo Piece"),o.a.createElement("p",null,"Fill out the form to create a possible bingo piece that others can look for when playing Google Steet View Bingo!")),o.a.createElement("form",{className:t.root,autoComplete:"off",onSubmit:function(t){return(a=t).preventDefault(),_.post("https://gsv-bingo.herokuapp.com/api/suggestions",{name:a.target[2].value,difficulty:a.target[1].value,suggestion:a.target[0].value,email:e.user.email}),a.target[0].value="",i("Unknown"),void m(!0);var a}},o.a.createElement("div",null,o.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center",direction:"column",spacing:3},o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{required:!0,id:"suggestion",label:"Required",placeholder:"Suggestion"})),o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{id:"select-amount",select:!0,value:r,helperText:"About how long will it take to find?",onChange:function(e){i(e.target.value)}},[{text:"Unknown",id:0},{text:"Easy (1-2 minutes)",id:1},{text:"Fair (3-5 minutes)",id:2},{text:"Hard (Over 5 minutes)",id:3}].map((function(e){return o.a.createElement(S.a,{key:e.id,value:e.id},e.text)})))),o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{id:"name",label:"Display Name"})),o.a.createElement(g.a,{item:!0},o.a.createElement(R.a,{variant:"contained",type:"submit",color:"primary",id:"submit"},"Submit"))))),o.a.createElement(M.a,{open:u,autoHideDuration:5e3,onClose:d},o.a.createElement(V,{onClose:d,severity:"success"},"Suggestion was successfully submitted!")))}var q=a(162),z=a(101),H=a.n(z),Y=a(216),J=a(217);function K(e){return o.a.createElement("div",{className:"About"},o.a.createElement(g.a,{container:!0,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,{container:!0,item:!0,xs:6,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,null,o.a.createElement("h3",null,"Origin of Google Street View Bingo"),o.a.createElement("p",null,"This application was inspired by the YouTube channel GeoWizard which uploads geography based videos such as GeoGuessr gameplay, Sporcle quizzes, and real life adventure vlogs. A viewer by the name of Chris Giles suggested a game where you use Google Street View to find 10 specific items from a list within a time limit which can be seen in the videos below."),o.a.createElement("iframe",{width:"448",height:"252",src:"https://www.youtube.com/embed/videoseries?list=PL_japiE6QKWoGGZw1t2cebElAki6JU1ik",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:!0})),o.a.createElement(g.a,null,o.a.createElement("h3",null,"How to Play"),o.a.createElement("p",null,"To play Google Street View Bingo on this site, you may choose to create a traditional 10 item list as seen in GeoWizard's videos, or you can create an actual 5x5 bingo board. While there are no strict rules of how to play, typically you will want to attempt to find all 10 items on the list or 5 in a row from the bingo board."),o.a.createElement("p",null,'The board pieces are 100% crowdsourced by the users of this website. While I will occasionally add suggestions from the YouTube comment sections manually to the database, you can submit your own by clicking "Submit a New Suggestion" from the Suggestions dropdown on the homepage! Likewise, to create a board, click the "Create a New Board" option from the Game Board dropdown on the homepage.'),o.a.createElement("p",null,"New features are currently being added to the website to make it easier to keep track of and manage your suggestions and game boards. While it is not necessary to use the website, signing in with Google on top right corner of the screen will allow you to use new features as they are added. Note: No personal information other than your name and email is collected when you link your Google account, and no unsolicited emails will be sent.")),o.a.createElement(g.a,null,o.a.createElement("h3",null,"Disclaimer"),o.a.createElement("p",null,"Neither this website nor I have any affiliation with the GeoWizard YouTube channel. To help support the development of this website, you may"," ",o.a.createElement("a",{href:"https://www.paypal.com/paypalme/cdw2014"},"donate here"),".")))))}var Q=Object(u.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto",backgroundColor:"white"},toolbarLink:{padding:e.spacing(1),flexShrink:0}}}));function X(e){var t=Q(),a=e.sections,n=e.title,r=e.user,i=o.a.useState(!1),c=Object(l.a)(i,2),s=c[0],u=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{className:t.toolbar},o.a.createElement(R.a,{onClick:function(){u(!s)},size:"small"},o.a.createElement(H.a,null)),o.a.createElement(h.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle},o.a.createElement(Y.a,{href:"/",color:"inherit"},n)),r.isAnon?o.a.createElement(q.a,{variant:"outlined",size:"small",onClick:function(){return window.location.href="/login"}},"Sign In"):o.a.createElement(R.a,{variant:"outlined",size:"small",onClick:function(){return window.location.href="/login"}},"Sign Out")),o.a.createElement(J.a,{in:s},o.a.createElement(P.a,{component:"nav",variant:"dense",className:t.toolbarSecondary},a.map((function(e){return o.a.createElement(Y.a,{color:"inherit",noWrap:!0,key:e.title,variant:"body2",href:e.url,className:t.toolbarLink},e.title)})))))}var Z=a(13),$=a(215),ee=a(233),te=a(218),ae=a(227),ne=a(228),oe=a(36),re=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));function ie(e){var t=re(),a=o.a.useState({type:"bingo",isFreeSpace:!0,title:"",id:null}),n=Object(l.a)(a,2),r=n[0],i=n[1];return o.a.createElement(g.a,{container:!0,item:!0,xs:12,direction:"column",justify:"space-between",alignItems:"center",spacing:2,style:{marginTop:"15px"},className:t.root},o.a.createElement(g.a,{item:!0,xs:12},o.a.createElement("h3",null,"Create a Bingo Board")),o.a.createElement(g.a,{item:!0},o.a.createElement("form",{className:t.root,autoComplete:"off",onSubmit:function(t){return function(t){var a,n;t.preventDefault(),"bingo"===r.type?r.isFreeSpace?(a="bingo_f",n=24):(a="bingo_nf",n=25):(a="list",n=10);var o=[];oe.get("https://gsv-bingo.herokuapp.com/api/suggestions/random/".concat(n)).then((function(e){e.data.forEach((function(e){return o.push(e[0]._id)}))})).then((function(t){o.length!==n?alert("There was a problem creating the board. Please try again."):oe.post("https://gsv-bingo.herokuapp.com/api/boards",{title:r.title,type:a,pieces:o,email:e.user.email}).then((function(e){return window.location.href="/boards/play/".concat(e.data)}))}))}(t)}},o.a.createElement("div",null,o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{required:!0,id:"name",label:"Board Name",value:r.title,onChange:function(e){return t=e,void i(Object(Z.a)({},r,{title:t.target.value}));var t}})),o.a.createElement(g.a,{item:!0},o.a.createElement($.a,{component:"fieldset",name:"board-type"},o.a.createElement(ee.a,{onChange:function(e){return t=e,void i(Object(Z.a)({},r,{type:t.target.value}));var t},value:r.type},o.a.createElement(te.a,{value:"bingo",control:o.a.createElement(ae.a,null),label:"Bingo Board (5x5)"}),o.a.createElement(te.a,{value:"list",control:o.a.createElement(ae.a,null),label:"List of 10 Items"})))),o.a.createElement(g.a,{item:!0},o.a.createElement("h5",null,"Additional Settings:")),o.a.createElement(g.a,{item:!0},o.a.createElement($.a,{onChange:function(e){i(Object(Z.a)({},r,{isFreeSpace:!r.isFreeSpace}))},disabled:"list"===r.type},o.a.createElement(te.a,{label:"Use free space in center",control:o.a.createElement(ne.a,{checked:r.isFreeSpace})})))),o.a.createElement(g.a,{item:!0},o.a.createElement(R.a,{variant:"contained",type:"submit",color:"primary",id:"submit"},"Submit")))))}var le=a(38),ce=Object(u.a)({card:{display:"flex",width:"35%",height:"30px",marginTop:"5px"}});function se(e){e.title;var t=ce(),a=o.a.useState({didMount:!1,pieces:e.pieces}),n=Object(l.a)(a,2),r=n[0],i=n[1];o.a.useEffect((function(){r.pieces.forEach((function(e){return e.found=!1})),i(Object(Z.a)({},r,{didMount:!0}))}),[]);var c=function(e,a){return o.a.createElement(y.a,{key:e._id,className:t.card,style:{backgroundColor:e.found?"green":"white"}},o.a.createElement(v.a,{onClick:function(e){return function(e){var t=Object(le.a)(r.pieces),a=t[e];a.found=!a.found,i(Object(Z.a)({},r,{pieces:t}))}(a)}},e.suggestion))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{container:!0,item:!0,xs:10,justify:"space-around",alignItems:"center",direction:"column",spacing:2},o.a.createElement("h3",null,e.title),r.didMount&&r.pieces.map((function(e,t){return c(e,t)}))))}var ue=Object(u.a)({card:{display:"flex",width:"15%",height:"8ch",flexWrap:1}});function me(e){var t=e.type,a=ue(),n=o.a.useState({didMount:!1,pieces:e.pieces}),r=Object(l.a)(n,2),i=r[0],c=r[1];o.a.useEffect((function(){console.log(i.pieces),i.pieces.forEach((function(e){return e.found=!1})),"bingo_f"===t&&i.pieces.splice(12,0,{suggestion:"FREE SPACE",found:!0}),c(Object(Z.a)({},i,{didMount:!0}))}),[]);var s=function(e){return o.a.createElement(g.a,{container:!0,item:!0,xs:10,justify:"space-around",alignItems:"center",direction:"row",spaing:2,key:e},i.pieces.map((function(t,n){if(n>=5*(e-1)&&n<5*e)return o.a.createElement(y.a,{key:t._id,className:a.card,style:{backgroundColor:t.found?"green":"white"}},o.a.createElement(v.a,{onClick:function(e){return function(e){var t=Object(le.a)(i.pieces),a=t[e];a.found=!a.found,c(Object(Z.a)({},i,{pieces:t}))}(n)}},t.suggestion))})))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,e.title),i.didMount&&[1,2,3,4,5].map((function(e){return s(e)})))}function ge(e){var t=o.a.useState({timeStarted:(new Date).getTime(),isPlaying:!1,minutes:20,seconds:0}),a=Object(l.a)(t,2),n=a[0],r=a[1];o.a.useEffect((function(){var e;return e=setTimeout((function(){if(n.isPlaying&&(n.minutes>0||n.seconds>0)){var e=((new Date).getTime()-n.timeStarted)/1e3,t=Math.floor((e-1)/60),a={minutes:19-t,seconds:60-Math.floor(e-60*t)};r(Object(Z.a)({},n,{minutes:a.minutes,seconds:a.seconds}))}}),1e3),function(){return clearInterval(e)}}),[n]);return o.a.createElement("div",null,n.isPlaying?o.a.createElement("h1",null,("0"+n.minutes).slice(-2),":",("0"+n.seconds).slice(-2)):null,o.a.createElement(R.a,{variant:"contained",color:!0===n.isPlaying?"secondary":"primary",onClick:function(e){n.isPlaying?r(Object(Z.a)({},n,{isPlaying:!1})):r(Object(Z.a)({},n,{isPlaying:!0,timeStarted:(new Date).getTime()}))}},!0===n.isPlaying?"Finished":"Start"),0===n.minutes&&0===n.seconds?alert("Time is up!"):null)}var de=a(36),pe=a.n(de);function fe(e){var t=e.match.params.gameId,a=o.a.useState({board:null,didMount:!1}),n=Object(l.a)(a,2),r=n[0],i=n[1];return o.a.useEffect((function(){pe.a.get("https://gsv-bingo.herokuapp.com/api/boards/".concat(t)).then((function(e){return e.data[0]})).then((function(e){var t="";e.pieces.forEach((function(e){return t+=e+","})),t=t.substr(0,t.length-1),pe.a.get("https://gsv-bingo.herokuapp.com/api/suggestions/many/".concat(t)).then((function(t){var a=t.data,n={_id:e._id,type:e.type,title:e.title,pieces:a};i(Object(Z.a)({},r,{board:n,didMount:!0}))}))})).catch((function(e){console.error(e)}))}),[]),o.a.createElement(g.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",direction:"column",spacing:2},r.didMount&&console.log(r.board)&&"list"===r.board.type?o.a.createElement(se,r.board):r.didMount&&o.a.createElement(me,r.board),o.a.createElement(ge,null))}var he=a(219),be=a(78),Ee=a.n(be),ye=a(77),ve=a.n(ye),we=a(36),ke=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));function xe(e){return o.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}function je(e){ke();var t=o.a.useState([]),a=Object(l.a)(t,2),n=a[0],r=a[1],i=o.a.useState(!0),c=Object(l.a)(i,2),s=(c[0],c[1]),u=o.a.useState(!1),m=Object(l.a)(u,2),d=m[0],p=m[1];o.a.useEffect((function(){we.get("https://gsv-bingo.herokuapp.com/api/boards/user/".concat(e.user.email)).then((function(e){return e.data})).then((function(e){return r(e)})).then((function(){return s(!1)}))}),[]);var f=function(e){navigator.clipboard.writeText("https://gsv-bingo.herokuapp.com/boards/play/".concat(e)).then((function(){return p(!0)}))},b=function(e){switch(e){case"bingo_f":return"Standard Bingo Board";case"bingo_nf":return"Bingo Board Without Free Space";case"list":return"List of 10";default:return"Board"}},E=function(){return o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3},n.map((function(e,t){return o.a.createElement(g.a,{item:!0,xs:4},o.a.createElement(y.a,{variant:"outlined"},o.a.createElement(w.a,{style:{height:"8ch"}},o.a.createElement(h.a,{variant:"body1",gutterBottom:!0},e.title),o.a.createElement(h.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},b(e.type))),o.a.createElement(he.a,null,o.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return window.location.href="/boards/play/".concat(e._id)}},"Play!"),o.a.createElement(q.a,{onClick:function(){return f(e._id)}},o.a.createElement(Ee.a,null)),o.a.createElement(q.a,{onClick:function(){return function(e,t,a){var o=Object(le.a)(n),i=Object(Z.a)({},n[a],{starred:!t});o[a]=i,r(o),we.put("https://gsv-bingo.herokuapp.com/api/boards/id=".concat(e,"&star=").concat(!t))}(e._id,e.starred,t)}},o.a.createElement(ve.a,{style:{fill:e.starred?"gold":""}})))))})))};return o.a.createElement("div",{className:"ViewMyBoards"},o.a.createElement(g.a,{container:!0,spacing:1,justify:"center",style:{marginTop:"30px"}},0===n.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},o.a.createElement(h.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0},"Create Your First Board")),o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},o.a.createElement("p",null,"It looks like you have not created any boards! Click the button below to create your first board.")),o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},o.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return window.location.href="/boards/create"}},"Create Board"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},o.a.createElement(h.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0},"Starred Boards")),function(){var e=n.filter((function(e){return!0===e.starred}));return o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},e.map((function(e,t){return o.a.createElement(g.a,{item:!0,xs:4},o.a.createElement(y.a,{variant:"outlined"},o.a.createElement(w.a,{style:{height:"8ch"}},o.a.createElement(h.a,{variant:"body1",gutterBottom:!0},e.title),o.a.createElement(h.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},b(e.type))),o.a.createElement(he.a,null,o.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return window.location.href="/boards/play/".concat(e._id)}},"Play!"),o.a.createElement(q.a,{onClick:function(){return f(e._id)}},o.a.createElement(Ee.a,null)))))})))}(),o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px",borderTop:"0.1em dotted grey"}},o.a.createElement(h.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0},"Past Boards")),E())),o.a.createElement(M.a,{open:d,autoHideDuration:5e3,onClose:function(){return p(!1)}},o.a.createElement(xe,{onClose:function(){return p(!1)},severity:"success"},"The board URL was successfully copied to your clipboard!")))}var Se=a(79),Oe=a.n(Se),Ce=a(102),Be=a(61),Te=Object(n.createContext)({name:null,isAnon:!0,email:null,getUser:function(){},login:function(e,t){},logout:function(){}}),Ie=a(220);function Fe(){var e=Object(n.useContext)(Te),t=o.a.useState(null),a=Object(l.a)(t,2),r=a[0],i=a[1],c=o.a.useState(null),s=Object(l.a)(c,2),u=s[0],m=s[1],g=function(e){m(e)};o.a.useEffect((function(){(function(){var t=Object(Ce.a)(Oe.a.mark((function t(){var a,n,o;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="gsvbingo-bbxfg",!(n=Be.b.hasAppClient(a)?Be.b.getAppClient(a):Be.b.initializeAppClient(a)).auth.hasRedirectResult()){t.next=6;break}return t.next=5,n.auth.handleRedirectResult().then((function(e){return console.log(e)})).catch(console.error);case 5:console.log("Processed redirect result.");case 6:n.auth.isLoggedIn&&i(n.auth.user.profile.name),null!==u&&("continue"===u?(e.login(n.auth.user.profile.name,n.auth.user.profile.email),window.location.replace("/")):"login"===u?(e.logout(),o=new Be.a,n.auth.loginWithRedirect(o).then((function(t){e.login(n.auth.user.profile.name,n.auth.user.profile.email),window.location.replace("/")})).catch((function(e){return console.log("Login error: ",e)}))):"skip"===u&&(n.auth.logout().then((function(t){return e.logout()})),window.location.replace("/")));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[u]);return o.a.createElement("div",{className:"Login"},null!==r?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Welcome back!"),o.a.createElement(R.a,{onClick:function(){return g("continue")}},"Continue as ",r),o.a.createElement(Ie.a,{title:"Skipping login will let you use the site anonymously, but your boards will not be saved!"},o.a.createElement(R.a,{onClick:function(){return g("skip")}},"Continue as Anonymous"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"You are not logged in! Please authenticate with Google to play Google Street View Bingo."),o.a.createElement("p",null,"DO NOT LOG IN IF YOU ARE ON A PUBLIC COMPUTER!"),o.a.createElement(R.a,{onClick:function(){return g("login")}},"Log In"),o.a.createElement(Ie.a,{title:"Skipping login will let you use the site anonymously, but your boards will not be saved!"},o.a.createElement(R.a,{onClick:function(){return g("skip")}},"No Thanks"))))}function Ne(e){return o.a.createElement("div",{className:"About"},o.a.createElement(g.a,{container:!0,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,{container:!0,item:!0,xs:6,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,null,o.a.createElement("h3",null,"Suggestion Etiquette"),o.a.createElement("p",null,"When submitting suggestions, please follow the guidelines listed below. Users can vote on suggestions, and any suggestion with a score below the threshold will be automatically deleted. Suggestions will also be periodically monitored, and suggestions not following the community guidelines will be manually removed."),o.a.createElement("ol",null,o.a.createElement("li",null,"Avoid offensive words and phrases. This includes any racism, homophobia, transphobia, or any other bigotry."),o.a.createElement("li",null,"While not explicitly encouraged, light swearing is allowed in suggestions. This website isn't designed for kids, so as long as you don't use excessive toxic language your suggestion will be safe."),o.a.createElement("li",null,"Going along with the above guideline, feel free to make suggestions that may surpass a PG-13 rating, but avoid overly inappropriate language/imagery. Just think whether your suggestion would be safe to show on screen if someone was streaming."),o.a.createElement("li",null,"Make sure that your suggestions are possible. Keep in mind that games are designed to be completed in 20 minutes, so maybe test out your suggestions yourself before submitting. Also, make sure fill out the difficulty of to suggestion as closely as possible."),o.a.createElement("li",null,"Please only use English in your suggestions."),o.a.createElement("li",null,"Double check your spelling and grammar before submitting. Also, try to keep the suggestions concise so that they will fit on the bingo pieces (less than 15 words)."),o.a.createElement("li",null,"Before adding suggestions, consider browsing through the existing suggestions to see if your ideas are already in the database. If you want to avoid spoilers, you do not need to do this, but users may report duplicate suggestions which may be deleted."))),o.a.createElement(g.a,null,o.a.createElement("h3",null,"Reporting a Suggestion"),o.a.createElement("p",null,"When viewing all suggestions, feel free to downvote and upvote suggestions as you deem fit. If a suggestion's score goes below a certain threshold, it feel be removed. Any suggestion that does not adhere to the suggestion etiquette above is fair game for downvoting. However, only use the Report button for the following reasons:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Suggestion is racist, homophobic, transphobic, etc."),o.a.createElement("li",null,"Suggestion is extremely vulgar and makes you feel uncomfortable using the website."),o.a.createElement("li",null,"Suggestion is a duplicate."))),o.a.createElement(g.a,null,o.a.createElement("h3",null,"General Guidelines"),o.a.createElement("ol",null,o.a.createElement("li",null,"Only sign in with your Google account if you are on a private device. This website does not have any permissions to control your Google account, nor does it keep any sensitive data. However, due to the way Google authentication works, your email address and name may linger in local storage even after you log out."),o.a.createElement("li",null,"Don't abuse the suggestion/feedback form. If you found a bug, have any suggestions on how to improve the website, or have any general feedback that you would like to share, please do. However, the form sends an email so try not to spam my inbox :)"),o.a.createElement("li",null,"If you enjoy the website, consider contributing by leaving your own suggestions! There are over a thousand unique boards so far, but far fewer suggestions. To keep the website enjoyable for yourself and others, leave a suggestion or two every time you play a round of bingo!"))))))}function Ae(e){return o.a.createElement("div",{className:"About"},o.a.createElement(g.a,{container:!0,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,{container:!0,item:!0,xs:6,direction:"colummn",justify:"center",alignItems:"center"},o.a.createElement(g.a,null,o.a.createElement("h3",null,"Contact Me"),o.a.createElement("p",null,"My name is CJ, and I am studying Systems Analysis & Design at Purdue University. In my free time I like to code and make random stuff. Right now, Google Street View Bingo is one of my few side projects I am working on in rotation, and I am hoping to release new updates to the website every couple months. If you have any suggestions or feedback on the website, please use the form which can be found in the menu bar at the top of the page or"," ",o.a.createElement("a",{href:"/feedback"},"here"),". For personal or business inquiries, you may contact me through the platforms below:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Reddit - cdw2014_"),o.a.createElement("li",null,"Discord - cdw2014#3949"),o.a.createElement("li",null,"Email - cdw2014@gmail.com"))))))}var Ge=a(214),Pe=a(36),Re=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch",flexGrow:1}}}}));function De(e){return o.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}function Me(e){var t=Re(),a=o.a.useState("Unknown"),n=Object(l.a)(a,2),r=n[0],i=n[1],c=o.a.useState(!1),s=Object(l.a)(c,2),u=s[0],m=s[1],d=function(e,t){"clickaway"!==t&&m(!1)};return o.a.createElement(g.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,style:{marginTop:"15px"}},o.a.createElement(g.a,{item:!0,xs:4},o.a.createElement("h3",null,"Give Feedback"),o.a.createElement("p",null,"Fill out the form to give feedback or suggestions for this website. You may report bugs, request new features, or just give any general feedback on the website. If you would like a follow up on your feedback, please enter an email address.")),o.a.createElement("form",{className:t.root,autoComplete:"off",onSubmit:function(e){return t=e,Pe.post("https://gsv-bingo.herokuapp.com/api/mail",{subject:"[".concat(r,"] GSV-Bingo Feedback"),text:"".concat(t.target[2].value,"\n\nFrom:").concat(t.target[4].value,"\n").concat(t.target[5].value)}),t.preventDefault(),t.target[0].value="",t.target[1].value="",t.target[2].value="",t.target[3].value="",i("Unknown"),void m(!0);var t}},o.a.createElement("div",null,o.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center",direction:"column",spacing:3},o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{required:!0,id:"subject",label:"Required",placeholder:"Subject"})),o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{id:"select-type",select:!0,value:r,helperText:"Type of feedback",onChange:function(e){console.log(e.target),i(e.target.value)}},[{text:"General Feedback",id:0},{text:"Feature Request",id:1},{text:"Report a Bug",id:2},{text:"Style/Design Suggestion",id:3}].map((function(e){return o.a.createElement(S.a,{key:e.id,value:e.text},e.text)})))),o.a.createElement(Ge.a,{"aria-label":"empty textarea",placeholder:"Enter feedback here...",style:{width:"100%"}}),o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{id:"name",label:"Your Name"})),o.a.createElement(g.a,{item:!0},o.a.createElement(D.a,{id:"email",label:"Email Address"})),o.a.createElement(g.a,{item:!0},o.a.createElement(R.a,{variant:"contained",type:"submit",color:"primary",id:"submit"},"Submit"))))),o.a.createElement(M.a,{open:u,autoHideDuration:5e3,onClose:d},o.a.createElement(De,{onClose:d,severity:"success"},"Feedback was successfully submitted! Please allow up to 24 hours for a reply!")))}var We=a(229),_e=a(221),Le=a(222),Ve=a(106),Ue=a.n(Ve),qe=a(105),ze=a.n(qe),He=a(36),Ye=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}}));function Je(e){return o.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}function Ke(e){Ye();var t=e.user,a=o.a.useState({page:1,max:1}),n=Object(l.a)(a,2),r=n[0],i=n[1],c=o.a.useState([]),s=Object(l.a)(c,2),u=s[0],m=s[1],d=o.a.useState([]),p=Object(l.a)(d,2),f=p[0],b=p[1],E=o.a.useState(!0),v=Object(l.a)(E,2),k=v[0],x=v[1],j=o.a.useState(!1),O=Object(l.a)(j,2),C=O[0],B=O[1],T=o.a.useState({}),I=Object(l.a)(T,2),F=I[0],N=I[1],A=o.a.useState(null),G=Object(l.a)(A,2),P=G[0],W=G[1];o.a.useEffect((function(){He.get("https://gsv-bingo.herokuapp.com/api/suggestions/page=".concat(r.page,"&num=32")).then((function(e){return e.data})).then((function(e){console.log(e),i(Object(Z.a)({},r,{max:e.maxPages})),m(e.suggestions);var a=[];e.suggestions.forEach((function(e){var n=e.votes.filter((function(e){return e.email===t.email}));n.length?a.push(n[0]):a.push({email:t.email,vote:0})})),b(a)})).then((function(){return x(!1)}))}),[r.page]);var _=function(e,a,n){if(null!==t.email){var o=Object(le.a)(f);o[n].score===a?o[n]={email:t.email,score:0}:o[n]={email:t.email,score:a},b(o);var r=L(u[n].votes,o[n]);He.put("https://gsv-bingo.herokuapp.com/api/suggestions/id=".concat(e,"&votes=").concat(r))}},L=function(e,a){var n=!1;e.forEach((function(o,r){o.email===t.email&&(n=!0,o.score===a.score?e[r].score=0:e[r]=a)})),n||e.push(a),console.log("after",e);var o="";return e.forEach((function(e){o+=e.email,o+=",",o+=e.score,o+="--delim--"})),o=o.slice(0,-3)},V=function(e,t){var a="default";return f[e]&&(1===f[e].score&&1===t?a="primary":-1===f[e].score&&-1===t&&(a="secondary")),a},U=function(e){console.log(k),x(!0),k||i(Object(Z.a)({},r,{page:r.page+e}))},z=function(){return o.a.createElement(g.a,{container:!0,item:!0,xs:9,justify:"space-between",spacing:3},o.a.createElement(g.a,{item:!0},o.a.createElement(R.a,{disabled:1===r.page,onClick:function(){return U(-1)}},"< Back")),o.a.createElement(g.a,{item:!0},o.a.createElement(h.a,{variant:"body1",gutterBottom:!0},"Page ",r.page," / ",r.max)),o.a.createElement(g.a,{item:!0},o.a.createElement(R.a,{disabled:r.page===r.max,onClick:function(){return U(1)}},"Next >")))};return o.a.createElement("div",{className:"ViewMyBoards"},o.a.createElement(g.a,{container:!0,spacing:1,justify:"center",style:{marginTop:"30px"}},0!==u.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3,style:{marginBottom:"15px"}},o.a.createElement(h.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0},"Recent Suggestions")),z(),o.a.createElement(g.a,{container:!0,item:!0,xs:9,spacing:3},u.map((function(e,a){return o.a.createElement(g.a,{item:!0,xs:3},o.a.createElement(y.a,{variant:"outlined"},o.a.createElement(w.a,{style:{height:"8ch"}},o.a.createElement(h.a,{variant:"body1",gutterBottom:!0},e.suggestion),o.a.createElement(h.a,{noWrap:!0,variant:"body2",color:"textSecondary",gutterBottom:!0},"By ",e.name?e.name:"Anonymous"),o.a.createElement(h.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Difficulty: ",e.difficulty)),o.a.createElement(he.a,null,o.a.createElement(R.a,{disabled:!t.email,variant:"outlined",size:"small",color:"secondary",onClick:function(){return N(e)}},"Report"),o.a.createElement(q.a,{disabled:!t.email,onClick:function(){return _(e._id,1,a)},color:V(a,1)},o.a.createElement(ze.a,null)),function(e){var t=0;return e.forEach((function(e){return t+=e.score})),t}(e.votes),o.a.createElement(q.a,{disabled:!t.email,onClick:function(){return _(e._id,-1,a)},color:V(a,-1)},o.a.createElement(Ue.a,null)))))}))),z()):o.a.createElement("div",null,"Loading...")),o.a.createElement(We.a,{title:"report-modal",open:F.suggestion,modal:!0},o.a.createElement(_e.a,null,"Reporting a Suggestion"),o.a.createElement(Le.a,null,o.a.createElement(y.a,{style:{backgroundColor:"#f3b6a8"},variant:"outlined"},o.a.createElement(w.a,{style:{height:"8ch"}},o.a.createElement(h.a,{variant:"body1",gutterBottom:!0},F.suggestion),o.a.createElement(h.a,{noWrap:!0,variant:"body2",color:"textSecondary",gutterBottom:!0},"By ",F.name?F.name:"Anonymous"),o.a.createElement(h.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Difficulty: ",F.difficulty))),o.a.createElement(h.a,{gutterBottom:!0},"Select a reason for reporting the above suggestion:"),o.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),He.post("https://gsv-bingo.herokuapp.com/api/mail",{subject:"[Report] GSV-Bingo Report",text:"Suggestion:\n".concat(F.suggestion,"\n\nBy: ").concat(F.name,"\n\nDifficulty: ").concat(F.difficulty,"\n\nReporter: ").concat(t.name," - ").concat(t.email,"\nReason:").concat(P)}),N({}),B(!0)}},o.a.createElement(D.a,{id:"select-type",select:!0,required:!0,fullWidth:!0,value:P,helperText:"Report Reason",onChange:function(e){return W(e.target.value)}},[{text:"Racism or Other Bigotry",id:0},{text:"Vulgar Language",id:1},{text:"Duplicate Suggestion",id:2}].map((function(e){return o.a.createElement(S.a,{key:e.id,value:e.text},e.text)}))),o.a.createElement(R.a,{type:"submit",color:"secondary"},"Report"),o.a.createElement(R.a,{onClick:function(){return N({})},color:"primary",autoFocus:!0},"Cancel")))),o.a.createElement(M.a,{open:C,autoHideDuration:5e3,onClose:function(){return B(!1)}},o.a.createElement(Je,{onClose:function(){return B(!1)},severity:"success"},"Thank you for helping keep the site clean!")))}var Qe=[{title:"About GSV Bingo",url:"/about"},{title:"Rules and Guidelines",url:"/rules"},{title:"Contact Me",url:"/contact-me"},{title:"Suggestion/Feedback Form",url:"/feedback"},{title:"Random Street View (Inspiration)",url:"https://www.mapcrunch.com"},{title:"Buy Me A Coffee",url:"https://www.paypal.com/paypalme/cdw2014"}];function Xe(e){return o.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}var Ze=function(){o.a.useContext(Te);var e=o.a.useState(JSON.parse(localStorage.getItem("userAuth"))||{name:null,email:null,isAnon:!0}),t=Object(l.a)(e,2),a=t[0],n=t[1],r=o.a.useState(!0),i=Object(l.a)(r,2),u=i[0],m=i[1],g=function(e,t){"clickaway"!==t&&m(!1)};return o.a.createElement("div",{className:"App"},o.a.createElement(X,{title:"Google Street View Bingo",sections:Qe,user:a}),o.a.createElement(c.a,null,o.a.createElement(s.c,null,o.a.createElement(Te.Provider,{value:{login:function(e,t){n({name:e,email:t,isAnon:!1}),localStorage.setItem("userAuth",JSON.stringify({name:e,email:t,isAnon:!1}))},logout:function(){n({name:null,isAnon:!0}),localStorage.setItem("userAuth",JSON.stringify({name:null,email:null,isAnon:!0}))}}},o.a.createElement(s.a,{exact:!0,path:"/",component:G}),o.a.createElement(s.a,{exact:!0,path:"/suggestions/submit*",render:function(e){return o.a.createElement(U,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{exact:!0,path:"/boards/create",render:function(e){return o.a.createElement(ie,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{path:"/boards/play/:gameId",render:function(e){return o.a.createElement(fe,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{path:"/boards/view",render:function(e){return o.a.createElement(je,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{path:"/suggestions/view/all",render:function(e){return o.a.createElement(Ke,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{path:"/login",component:Fe}),o.a.createElement(s.a,{exact:!0,path:"/about",render:function(e){return o.a.createElement(K,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{exact:!0,path:"/rules",render:function(e){return o.a.createElement(Ne,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{exact:!0,path:"/contact-me",render:function(e){return o.a.createElement(Ae,Object.assign({},e,{user:a}))}}),o.a.createElement(s.a,{exact:!0,path:"/feedback",render:function(e){return o.a.createElement(Me,Object.assign({},e,{user:a}))}})))),a.isAnon?o.a.createElement(M.a,{open:u,autoHideDuration:1e4,onClose:g},o.a.createElement(Xe,{onClose:g,severity:"warning"},"You are not signed in with Google! Your data will not be saved to your account, and you cannot vote or report suggestions!")):null)};a(154).config(),i.a.render(o.a.createElement(Ze,null),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.c8844da3.chunk.js.map